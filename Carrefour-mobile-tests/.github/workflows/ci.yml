name: Testes Mobile com Emulador

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  test-mobile:
    runs-on: self-hosted

    steps:
      - name: ðŸ”„ Checkout do cÃ³digo
        uses: actions/checkout@v3

      - name: â˜• Verificar Java
        run: java -version

      - name: ðŸ“± Iniciar emulador Android
        run: |
          $ANDROID_HOME/emulator/emulator -avd emulator-5554 -no-window -no-audio &
          adb wait-for-device
          adb shell input keyevent 82

      - name: ðŸš€ Iniciar Appium
        run: appium &

      - name: ðŸ§ª Executar testes
        run: mvn test

